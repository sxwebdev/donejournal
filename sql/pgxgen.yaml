version: 1
sqlc:
  - schema_dir: migrations
    models:
      replace_sqlc_nullable_types: true
      move:
        output_dir: ../internal/models
        output_file_name: models_gen.go
        package_name: models
        package_path: github.com/sxwebdev/donejournal/internal/models
        imports:
          - path: github.com/sxwebdev/donejournal/internal/models
            go_type: TodoStatusType
    crud:
      auto_remove_generated_files: true
      exclude_table_name_from_methods: true
      tables:
        # inbox
        inbox:
          output_dir: queries/inbox
          primary_column: id
          methods:
            create:
              skip_columns:
                - created_at
                - updated_at
              returning: "*"
            delete:
            get:
              name: GetByID

        # todos
        todos:
          output_dir: queries/todos
          primary_column: id
          methods:
            create:
              skip_columns:
                - created_at
                - updated_at
              returning: "*"
            delete:
            get:
              name: GetByID

    constants:
      tables:
        inbox:
          output_dir: ../internal/store/repos/repo_inbox
          include_column_names: true
        todos:
          output_dir: ../internal/store/repos/repo_todos
          include_column_names: true
